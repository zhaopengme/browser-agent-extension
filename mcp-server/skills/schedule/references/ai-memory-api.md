# ai-memory Pipeline API å‚è€ƒ

## æ¦‚è¿°

ai-memory MCP æä¾›äº† Pipeline åŠŸèƒ½ï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œã€‚

## å¯ç”¨å·¥å…·

### pipeline_create

åˆ›å»ºæ–°çš„ Pipeline ä»»åŠ¡ã€‚

**å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| key | string | æ˜¯ | Pipeline å”¯ä¸€æ ‡è¯†ï¼ˆå­—æ¯ã€æ•°å­—ã€æ¨ªçº¿ã€ä¸‹åˆ’çº¿ï¼‰ |
| value | string | æ˜¯ | JSON æ ¼å¼çš„è¡¨å•é…ç½®ï¼ˆBuzzForm Schema æ•°ç»„ï¼‰ |
| isActive | boolean | å¦ | æ˜¯å¦å¯ç”¨ï¼ˆé»˜è®¤ trueï¼‰ |
| metadata.cron | string | å¦ | Cron è¡¨è¾¾å¼ï¼ˆ5 æ®µå¼ï¼‰ |
| metadata.status | string | å¦ | å®šæ—¶çŠ¶æ€ï¼šactive æˆ– paused |
| metadata.template | string | å¦ | æ‰§è¡Œæ¨¡æ¿ï¼Œæ”¯æŒ {{å˜é‡å}} å ä½ç¬¦ |
| metadata.project | string | å¦ | é¡¹ç›®è·¯å¾„ |

**ç¤ºä¾‹ï¼š**
```json
{
  "key": "daily-check",
  "value": "[{\"label\": \"ä»»åŠ¡å†…å®¹\", \"type\": \"text\"}]",
  "isActive": true,
  "metadata": {
    "cron": "0 9 * * *",
    "status": "active"
  }
}
```

### pipeline_list

åˆ—å‡ºæ‰€æœ‰ Pipeline ä»»åŠ¡ã€‚

**å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| status | string | å¦ | è¿‡æ»¤çŠ¶æ€ï¼šactive/paused/all |
| limit | number | å¦ | è¿”å›æ•°é‡ä¸Šé™ï¼ˆ1-100ï¼Œé»˜è®¤ 20ï¼‰ |
| offset | number | å¦ | è·³è¿‡å‰ N æ¡ï¼Œç”¨äºåˆ†é¡µ |

**è¿”å›æ ¼å¼ï¼š**
```
ğŸ“‹ Pipeline åˆ—è¡¨ - ç¬¬ 1-1 æ¡ï¼Œå…± 1 æ¡:

1. [abc] â¸
   Cron: 1 1 * * * | å®šæ—¶: paused
   æ›´æ–°: 2026/1/26 06:15:21
```

### pipeline_get

è·å–å•ä¸ª Pipeline çš„è¯¦ç»†ä¿¡æ¯ã€‚

**å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| key | string | æ˜¯ | Pipeline å”¯ä¸€æ ‡è¯† |

### pipeline_update

æ›´æ–°ç°æœ‰ Pipeline çš„é…ç½®ã€‚

**å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| key | string | æ˜¯ | Pipeline å”¯ä¸€æ ‡è¯† |
| value | string | å¦ | JSON æ ¼å¼çš„è¡¨å•é…ç½® |
| isActive | boolean | å¦ | æ˜¯å¦å¯ç”¨ |
| metadata.cron | string | å¦ | Cron è¡¨è¾¾å¼ |
| metadata.status | string | å¦ | å®šæ—¶çŠ¶æ€ |
| metadata.template | string | å¦ | æ‰§è¡Œæ¨¡æ¿ |
| metadata.project | string | å¦ | é¡¹ç›®è·¯å¾„ |

### pipeline_delete

åˆ é™¤æŒ‡å®šçš„ Pipelineã€‚

**å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| key | string | æ˜¯ | Pipeline å”¯ä¸€æ ‡è¯† |
| confirm | boolean | æ˜¯ | ç¡®è®¤åˆ é™¤ï¼ˆå¿…é¡»ä¸º trueï¼‰ |

## Cron è¡¨è¾¾å¼è§„èŒƒ

ä½¿ç”¨æ ‡å‡† 5 æ®µå¼ cronï¼š

```
åˆ†é’Ÿ å°æ—¶ æ—¥æœŸ æœˆä»½ æ˜ŸæœŸ
0-59 0-23 1-31 1-12 0-6
```

ç‰¹æ®Šç¬¦å·ï¼š
- `*` - ä»»æ„å€¼
- `,` - åˆ—è¡¨åˆ†éš”ç¬¦
- `-` - èŒƒå›´
- `/` - æ­¥é•¿

## æ‰§è¡Œæ¨¡æ¿

æ¨¡æ¿æ”¯æŒå˜é‡å ä½ç¬¦ `{{å˜é‡å}}`ï¼Œåœ¨æ‰§è¡Œæ—¶ä¼šè¢«æ›¿æ¢ä¸ºå®é™…å€¼ã€‚

**ç¤ºä¾‹ï¼š**
```
æ‰§è¡Œä»£ç æ£€æŸ¥ï¼š{{project}}/{{branch}}
```

## çŠ¶æ€ç®¡ç†

Pipeline æœ‰ä¸¤ç§çŠ¶æ€ï¼š

| çŠ¶æ€ | æè¿° |
|------|------|
| active | å¯ç”¨ï¼ŒæŒ‰ cron å®šæ—¶æ‰§è¡Œ |
| paused | æš‚åœï¼Œä¸æ‰§è¡Œå®šæ—¶ä»»åŠ¡ |

é€šè¿‡ `metadata.status` æˆ– `isActive` æ§åˆ¶çŠ¶æ€ã€‚
